[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Kimberlee Wong",
    "section": "",
    "text": "Hello! My name is Kimmy Wong, and I’m a master’s student of Environmental Data Science at the UCSB Bren School of Environmental Science and Management. I’m a recently graduated UCLA alum (2024), and it’s there I found an appreciation for data visualization and GIS mapping as tools to address pressing environmental challenges. I’m excited to enhance my skills in modeling, data analysis, and data visualization and apply these competencies to tackling the environmental issues I have been passionate about since volunteering as an education interpreter at the Aquarium of the Pacific in high school."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "I am currently a student at the UC Santa Barbara Bren School of Environmental Science and Management. I am pursuing my Master’s of Environmental Data Science. With the fast paced nature of this program, I have learned so much in such a short time span. I’ve enjoyed furthering my skills in R, Python, Java, and SQL.\n\n\n\nI was an Environmental Science student in undergrad at UC Los Angeles, and it was during one of my required classes, coding for environmental science, that I found a great appreciation for data science and the value of programs like R."
  },
  {
    "objectID": "about.html#hobbies-and-arts",
    "href": "about.html#hobbies-and-arts",
    "title": "About",
    "section": "Hobbies and Arts!",
    "text": "Hobbies and Arts!"
  },
  {
    "objectID": "posts/environmental_redlining/environmental_redlining_blog.html",
    "href": "posts/environmental_redlining/environmental_redlining_blog.html",
    "title": "Environmental Redlining",
    "section": "",
    "text": "Show the code\nlibrary(sf)\nlibrary(tidyverse)\nlibrary(tmap)\nlibrary(here)\nlibrary(kableExtra)\n\n\n\n\n\n\nImport the redlining and ejscreen vector data.\n\n\nejscreen <- st_read(here(\"posts\",\"environmental_redlining\", \"data\", \"ejscreen\",\"EJSCREEN_2023_BG_StatePct_with_AS_CNMI_GU_VI.gdb\"))\n\nholc <- st_read(here(\"posts\",\"environmental_redlining\",\"data\", \"mapping-inequality\", \"mapping-inequality-los-angeles.json\")) %>% \n  filter(st_is_valid(.))\n\n\n\n\n\nFilter the ejscreen data for the table and visualization.\n\n\n# Filter for just California for a basemap\ncalifornia <- ejscreen %>%\n  dplyr::filter(ST_ABBREV == \"CA\" & ID != \"060379903000\" & ID != \"060379902000\") %>% \n  janitor::clean_names()\n\n# Filter to specifically LA to make the table \nlos_angeles <- california %>%\n  dplyr::filter(cnty_name %in% c(\"Los Angeles County\"))\n\n\nCheck if the coordinate systems match between the ejscreen and redlining data. If they don’t, fix it.\n\n\n# Do the coordinate systems match?\nst_crs(los_angeles) == st_crs(holc)\n\n[1] FALSE\n\n# Transform the holc to match the ejscreen LA data\nholc_transform <- st_transform(holc, crs = st_crs(los_angeles))\n\n# Check to see if it worked\nif(st_crs(holc_transform) == st_crs(los_angeles)){\n  print(\"it's a match!\")\n} else {\n  print(\"still not a match\")\n}\n\n[1] \"it's a match!\"\n\n\n\nProduce a map of historical redlining in Los Angeles, California, colored by the grades.\n\n\n\nShow the code\ntm_shape(california, bbox = holc_transform) +\n  tm_polygons(col = \"beige\", border.alpha = 0) +\ntm_shape(holc_transform) +\n  tm_fill(\"grade\",\n          palette = c(\"A\" = \"palegreen3\",\n                      \"B\" = \"skyblue1\",\n                      \"C\" = \"lightgoldenrod\",\n                      \"D\" = \"tomato\"),\n          title = \"HOLC Grades\") +\ntm_shape(california, bbox = holc_transform) +\n  tm_borders(lwd = 0.3, col = \"black\", alpha = 0.6) + tm_scale_bar(position = c(\"right\", \"top\")) +\ntm_layout(frame = TRUE,\n          main.title = \"Home Owners' Loan Corporation \\n Grades in Los Angeles County, California\",\n          main.title.position = c(\"center\", \"top\"),\n          main.title.size = 1,\n          legend.outside = TRUE,\n          legend.outside.position = \"right\",\n          bg.color = \"skyblue3\") +\ntm_compass(position = c(\"left\", \"bottom\"),\n           size = 1) +\ntm_credits(\"Pacific Ocean\", col = \"black\", position = c(0.016, .18))\n\n\n\n\n\n\nProduce a table summarizing the percent of HOLC Grades in LA County.\n\n\n\nShow the code\nholc_ej <- st_join(holc_transform, los_angeles, join = st_intersects) %>% \n  group_by(grade)\n\ncensus <- holc_ej %>% \n  summarize(percent = n()/nrow(los_angeles)*100) %>% \n  select(grade, percent) %>% \n  st_drop_geometry\n\nkableExtra::kable(census, \n  col.names = c('Grade', 'Percentage'),\n  caption = \"Percentage of Census Block Groups by HOLC Grade\")\n\n\n\n\nPercentage of Census Block Groups by HOLC Grade\n \n  \n    Grade \n    Percentage \n  \n \n\n  \n    A \n    6.814388 \n  \n  \n    B \n    18.303233 \n  \n  \n    C \n    41.705873 \n  \n  \n    D \n    19.729853 \n  \n  \n    NA \n    4.492336 \n  \n\n\n\n\n\n\nCheck if there are any NAs to remove in the three variables that were requested (low income percent, pm2.5 percentile, and low life expectancy percentile)\n\n\nif (sum(is.na(holc_ej$lowincpct)) > 0) {\n  warning(\"There are NAs, better take them out!\")\n} else {\n  print(\"All good!\")\n}\n\n[1] \"All good!\"\n\nif (sum(is.na(holc_ej$p_pm25)) > 0) {\n  warning(\"There are NAs, better take them out!\")\n} else {\n  print(\"All good!\")\n}\n\n[1] \"All good!\"\n\nif (sum(is.na(holc_ej$p_lifeexppct)) > 0) {\n  warning(\"There are NAs, better take them out!\")\n} else {\n  print(\"All good!\")\n}\n\nWarning: There are NAs, better take them out!\n\n\n\n\nProduce bar plot showing low income household against HOLC grades.\n\n\n\n\nShow the code\nlow_inc <- holc_ej %>% \n  group_by(grade) %>% \n  summarise(low_inc_percent = mean(lowincpct)) %>% \n  select(grade, low_inc_percent) %>% \n  st_drop_geometry()\n\nggplot(low_inc) +\n  geom_col(aes(x = grade, y = low_inc_percent),\n           fill = c(\"palegreen3\", \"skyblue1\", \"lightgoldenrod\", \"tomato\", \"grey\")) +\n  labs(x = \"HOLC Grade\",\n       y = \"Mean Low Income Household (%)\",\n       title = \"Percent of Low Income Households by HOLC Grade\")\n\n\n\n\n\n\n\nProduce bar plot showing pm 2.5 percentile against HOLC grades.\n\n\n\n\nShow the code\npm25 <- holc_ej %>% \n  group_by(grade) %>% \n  summarise(pm_25 = mean(p_pm25)) %>% \n  select(grade, pm_25) %>% \n  st_drop_geometry()\n\nggplot(pm25) +\n  geom_col(aes(x = grade, y = pm_25),\n           fill = c(\"palegreen3\", \"skyblue1\", \"lightgoldenrod\", \"tomato\", \"grey\")) +\n  labs(x = \"HOLC Grade\",\n       y = \"Mean PM 2.5 Percentile\",\n       title = \"PM 2.5 Percentile by HOLC Grade\")\n\n\n\n\n\n\n\nProduce bar plot showing low life expectancy percentile against HOLC grades.\n\n\n\n\nShow the code\nlow_life <- holc_ej %>% \n  group_by(grade) %>% \n  summarise(low_life_expectancy = mean(p_lifeexppct, na.rm = TRUE)) %>% \n  select(grade, low_life_expectancy) %>% \n  st_drop_geometry()\n# dropped NAs in order to calculate the mean\n\nggplot(low_life) +\n  geom_col(aes(x = grade, y = low_life_expectancy),\n           fill = c(\"palegreen3\", \"skyblue1\", \"lightgoldenrod\", \"tomato\", \"grey\")) +\n  labs(x = \"HOLC Grade\",\n       y = \"Mean Low Life Expectancy Percentile\",\n       title = \"Low Life Expectancy Percentile by HOLC Grade\")\n\n\n\n\n\n\n\n\nAfter reviewing the results of the map, table, and three figures, there are a few interesting aspects that stick out to me. For one, there are far more ‘C’ graded regions than anything else, but the figure show that there is more low income households, PM 2.5 (by a small margin), and low life expectancy in the ‘D’ areas. This is interesting because it means those factors are heavily dense in the ‘D’ regions even if it less than double the size of ‘C’. The map also shows that the grades are relatively spread out, and the grades are not just in four quadrants. I also noticed that my undergrad university (UCLA) is located in an ‘A’ area which makes sense because the surrrounding neighborhood continues to be very affluent today. The PM 2.5 is pretty similar across the county, no matter the grade, which leads me to believe it is bigger issue than the size of a census redlined region."
  },
  {
    "objectID": "posts/environmental_redlining/environmental_redlining_blog.html#import-data-1",
    "href": "posts/environmental_redlining/environmental_redlining_blog.html#import-data-1",
    "title": "Environmental Redlining",
    "section": "Import Data",
    "text": "Import Data\n\nbirds <- st_read(here(\"posts\",\"environmental_redlining\",\"data\", \"gbif-birds-LA\",\"gbif-birds-LA.shp\"))"
  },
  {
    "objectID": "posts/environmental_redlining/environmental_redlining_blog.html#summarize-data",
    "href": "posts/environmental_redlining/environmental_redlining_blog.html#summarize-data",
    "title": "Environmental Redlining",
    "section": "Summarize Data",
    "text": "Summarize Data\n\nFilter bird observations to the year 2022\n\n\nbirds_2022 <- birds %>% \n  filter(year == 2022)\n\n\nCheck if CRS’s match between HOLC data and bird observations.\n\n\nif(st_crs(holc_transform) == st_crs(birds_2022)){\n  print(\"it's a match!\")\n} else {\n  print(\"not a match\")\n}\n\n[1] \"not a match\"\n\nbirds_transform <- st_transform(birds_2022, crs = st_crs(holc_transform))\n\nif(st_crs(holc_transform) == st_crs(birds_transform)){\n  print(\"it's a match!\")\n} else {\n  print(\"still not a match\")\n}\n\n[1] \"it's a match!\"\n\n\n\nJoin the bird observations and HOLC data.\n\n\nbird_holc <- st_join(holc_transform, birds_transform, join = st_intersects)\n\nbird_figure <- bird_holc %>% \n  group_by(grade) %>%\n  summarize(observation_percent = n()/nrow(bird_holc)*100) %>% \n  select(grade, observation_percent) %>% \n  st_drop_geometry()\n\n\nProduce bar plot that visualizes the HOLC grades against the bird observations.\n\n\n\nShow the code\nggplot(bird_figure) +\n  geom_col(aes(x = grade, y = observation_percent),\n           fill = c(\"palegreen3\", \"skyblue1\", \"lightgoldenrod\", \"tomato\", \"grey\")) +\n  labs(x = \"HOLC Grade\",\n       y = \"Observation of Birds (%)\",\n       title = \"Observation of Birds by HOLC Grades\")"
  },
  {
    "objectID": "posts/environmental_redlining/environmental_redlining_blog.html#conclusion-1",
    "href": "posts/environmental_redlining/environmental_redlining_blog.html#conclusion-1",
    "title": "Environmental Redlining",
    "section": "Conclusion",
    "text": "Conclusion\nMy results do not align with the ‘Bird Biodiversity Reports Reflect Cities’ Redlined Past’. Unlike the paper, my bar plot shows that regions with an ‘A’ grade actually have the least amount of bird observations, and ‘C’ has the most. However, this makes sense because as seen in the earlier table, there are many more areas graded as ‘C’ compared to ‘A’, so there would be more birds seen in ‘C’. If the bird observations were weighted based on the density of the grades, the plot might align more closely with the results of the article."
  },
  {
    "objectID": "posts/thomas_fire_analysis/thomas-fire-blog.html",
    "href": "posts/thomas_fire_analysis/thomas-fire-blog.html",
    "title": "Analysis of the 2017 Thomas Fire",
    "section": "",
    "text": "An image of firefighters battling the fire as it encroaches on Carpinteria on December 10. Credits: Mike Eliason/Santa Barbara County Fire Department via AP"
  },
  {
    "objectID": "posts/thomas_fire_analysis/thomas-fire-blog.html#about",
    "href": "posts/thomas_fire_analysis/thomas-fire-blog.html#about",
    "title": "Analysis of the 2017 Thomas Fire",
    "section": "About",
    "text": "About\n\nPurpose\nIn December of 2017, multiple wildfires ignited in Southern California, and was dubbed the Thomas Fire. It took months for it to be considered completely out, and at the time, it became the seventh most destructive fire in California history. The following analysis was done in two-fold. Its purpose is to get a better understanding of the 2017 Thomas Fire effects. The first part shows the process of producing a graph that shows how the average air quality was affected, and the second part visualizes the region of fire through a false imagery map.\n\n\nHighlights\n\nClean and Manipulate: Clean column names and remove unnecessary column names for ease.\nVisualize: Produce both true and false image color image maps. Produce a graph showing the average air quality index before, through, and after the Thomas Fire.\nGeospatial Analysis: Use rioxr to import the Landsat data and access its attributes. Use squeeze and drop.vars to remove unnecessary bands and coordinates.\n\n\n\nAbout the Data\nThe Landsat data comes from Microsoft Planetary Computer Data Catalogue, and it is a simplified collection of colored bands. It was processed to remove data outside land and coarsen the spatial resolution.\nThe Thomas Fire boundary was created by filtering a California Fire perimeter file available from the US Government Data Catalogue.\nThe AQI (Air Quality Index) data was created by the US EPA (Environmental Protection Agency), and was filtered down to Santa Barbara County."
  },
  {
    "objectID": "posts/thomas_fire_analysis/thomas-fire-blog.html#import-libraries",
    "href": "posts/thomas_fire_analysis/thomas-fire-blog.html#import-libraries",
    "title": "Analysis of the 2017 Thomas Fire",
    "section": "Import Libraries",
    "text": "Import Libraries\n\n\nShow code\nimport pandas as pd\nimport geopandas as gpd\nimport os\nimport matplotlib.pyplot as plt\nimport rioxarray as rioxr\nfrom shapely.geometry import box  # To create polygon bounding box\n\npd.set_option(\"display.max.columns\", None) # To see all columns"
  },
  {
    "objectID": "posts/thomas_fire_analysis/thomas-fire-blog.html#load-data",
    "href": "posts/thomas_fire_analysis/thomas-fire-blog.html#load-data",
    "title": "Analysis of the 2017 Thomas Fire",
    "section": "Load Data",
    "text": "Load Data\n\n# 2017 and 2018 AQI Data # \n\naqi_17 = pd.read_csv('data/daily_aqi_by_county_2017.zip', compression = 'zip')\naqi_18 = pd.read_csv('data/daily_aqi_by_county_2018.zip', compression = 'zip')\n\n# Landsat Data # \n\n# Make a root path\nroot = os.path.join('/',\n                  'courses',\n                  'EDS220',\n                  'data',\n                  'hwk4_landsat_data')\n\n# Make a filepath\nfp = os.path.join(root,\n                 'landsat8-2018-01-26-sb-simplified.nc')\n\n# Use both root and file paths to import the Landsat file\nlandsat = rioxr.open_rasterio(fp)\n\n# Thomas Fire Boundary #\nthomas_fire_boundary = gpd.read_file(os.path.join('data', 'thomas_fire_boundary.shp'))"
  },
  {
    "objectID": "posts/thomas_fire_analysis/thomas-fire-blog.html#data-cleaning-and-manipulation",
    "href": "posts/thomas_fire_analysis/thomas-fire-blog.html#data-cleaning-and-manipulation",
    "title": "Analysis of the 2017 Thomas Fire",
    "section": "Data Cleaning and Manipulation",
    "text": "Data Cleaning and Manipulation\n\n# Combine 2017 and 2018 data into one dataframe\naqi = pd.concat([aqi_17, aqi_18])\n\n# Clean column names\naqi.columns = (aqi.columns\n                  .str.lower()\n                  .str.replace(' ','_')\n                )\n# Select for Santa Barbara county and remove unneccessary columns\naqi_sb = aqi[aqi['county_name'] == 'Santa Barbara'].drop(columns = ['state_name', 'county_name', 'state_code', 'county_code'])\n\n# Convert date to datetime object\naqi_sb.date = pd.to_datetime(aqi_sb.date)\n\n# Change the index to the data\naqi_sb = aqi_sb.set_index('date')\n\n# Calculate AQI rolling average over 5 days\naqi_sb['five_day_average'] = aqi_sb.rolling('5D').aqi.mean()"
  },
  {
    "objectID": "posts/thomas_fire_analysis/thomas-fire-blog.html#visualize-aqi",
    "href": "posts/thomas_fire_analysis/thomas-fire-blog.html#visualize-aqi",
    "title": "Analysis of the 2017 Thomas Fire",
    "section": "Visualize AQI",
    "text": "Visualize AQI\n\n\nShow code\n# Set figure size\nfig, ax = plt.subplots(figsize=(10, 6))\n\nax.plot(aqi_sb.index, aqi_sb.aqi, label='Daily AQI')\nax.plot(aqi_sb.index, aqi_sb.five_day_average, label='Five Day Average AQI')\nax.set_xlabel('Date')\nax.set_ylabel('AQI')\nax.set_title('Daily and Five Day Average AQI Readings of Santa Barbara County from 2017 to 2018')\nax.legend()\n\n\n<matplotlib.legend.Legend at 0x7f6c3824d210>"
  },
  {
    "objectID": "posts/thomas_fire_analysis/thomas-fire-blog.html#data-cleaning-and-manipulation-1",
    "href": "posts/thomas_fire_analysis/thomas-fire-blog.html#data-cleaning-and-manipulation-1",
    "title": "Analysis of the 2017 Thomas Fire",
    "section": "Data Cleaning and Manipulation",
    "text": "Data Cleaning and Manipulation\n\n# Remove length 1 dimensions (band)\nlandsat = landsat.squeeze()\n\n# Remove coordinates associated to band dimension\nlandsat = landsat.drop_vars('band')\n\n# Check that it worked\nprint(landsat.dims, landsat.coords)\n\nFrozenMappingWarningOnValuesAccess({'x': 870, 'y': 731}) Coordinates:\n  * x            (x) float64 7kB 1.213e+05 1.216e+05 ... 3.557e+05 3.559e+05\n  * y            (y) float64 6kB 3.952e+06 3.952e+06 ... 3.756e+06 3.755e+06\n    spatial_ref  int64 8B 0"
  },
  {
    "objectID": "posts/thomas_fire_analysis/thomas-fire-blog.html#true-color-image",
    "href": "posts/thomas_fire_analysis/thomas-fire-blog.html#true-color-image",
    "title": "Analysis of the 2017 Thomas Fire",
    "section": "True Color Image",
    "text": "True Color Image\n\n# Visualize the red, green, blue variables\nlandsat[['red', 'green', 'blue']].to_array().plot.imshow()\n\nClipping input data to the valid range for imshow with RGB data ([0..1] for floats or [0..255] for integers).\n\n\n<matplotlib.image.AxesImage at 0x7f6c38557010>\n\n\n\n\n\nThis first attempt at visualizing the Landsat data didn’t work quite right because it is showing up in black and white. Let’s change the robust parameter to account for the clouds’ RGB outlier values throwing off the plot.\n\n# Visualize the red, green, blue variables and adjust robust parameter \nlandsat[['red', 'green', 'blue']].to_array().plot.imshow(robust = True)\n\n<matplotlib.image.AxesImage at 0x7f6c3829bfd0>\n\n\n\n\n\nThe first attempt showed up in black and white. By just changing the one parameter of robust, the plot now shows a true color image. The robust parameter essentially changed the colormap range so that the extremes aren’t included. Because the clouds were affecting our first map, turning on robust changes that."
  },
  {
    "objectID": "posts/thomas_fire_analysis/thomas-fire-blog.html#false-color-image",
    "href": "posts/thomas_fire_analysis/thomas-fire-blog.html#false-color-image",
    "title": "Analysis of the 2017 Thomas Fire",
    "section": "False Color Image",
    "text": "False Color Image\nInstead of using the usual RGB (red, green, blue) colors, let’s switch them to make a false color image and better visualize the area that was affected by the fire. In our specific case, we will be using short-wave infrared(swir22) instead of red, near-infrared(nir08) instead of green, and red instead of blue. We must input the exchange in the order of RGB in order to get the desired effect.\n\n# Visualize the swir22, nir, red variables and keep robust = True\nlandsat[['swir22', 'nir08', 'red']].to_array().plot.imshow(robust = True)\n\n<matplotlib.image.AxesImage at 0x7f6c380c9550>"
  },
  {
    "objectID": "posts/thomas_fire_analysis/thomas-fire-blog.html#false-color-image-map",
    "href": "posts/thomas_fire_analysis/thomas-fire-blog.html#false-color-image-map",
    "title": "Analysis of the 2017 Thomas Fire",
    "section": "False Color Image Map",
    "text": "False Color Image Map\nCreate a map using the false color image that was made above and the Thomas fire perimeter.\n\nCRS Manipulation\nBecause we’re combining two geodata files, we must ensure the CRSs match.\n\n# View each CRS\nprint('Thomas Fire CRS: ', thomas_fire_boundary.crs)\nprint('Landsat CRS: ', landsat.rio.crs)\n\nThomas Fire CRS:  EPSG:3857\nLandsat CRS:  EPSG:32611\n\n\n\n# Change Thomas Fire boundary to match the Landsat CRS \nthomas_fire_boundary = thomas_fire_boundary.to_crs(landsat.rio.crs)\n\n# Add a check to make sure it worked \nassert thomas_fire_boundary.crs == landsat.rio.crs\n\n\n\nPlot Map\n\n\nShow code\n# Required to put the figures on one map\nfig, ax = plt. subplots() \n\n# Plot the false color image as it was earlier\nlandsat[['swir22', 'nir08', 'red']].to_array().plot.imshow(robust = True, ax = ax)\n\n# Plot the Thomas Fire perimeter(only)\nthomas_fire_boundary.boundary.plot(ax=ax, edgecolor = \"darkred\", linewidth = 1, label = \"Thomas Fire Perimeter\")\n\n# Add legend\nax.legend(loc='upper right')\n\n# Turn off the axes\nplt.axis(False)\n\n# Add Title\nplt.title(\"False Color Image Map of the 2017 Thomas Fire\")\n\n# Gets rid of the text that shows up over the map of the annotation\nplt.show()\n\n\n\n\n\nFigure Description: This is a map of Santa Barbara County in the year 2017. It features a layer on top of it that shows the border of the Thomas Fire. This map uses false color imagery (occurs when you replace the original RGB colors with other ones of your choosing. In this instance, instead of red we used short-wave infrared(swir22), instead of green we used near-infrared(nir08), and instead of blue we used red. By doing this, the map clearly shows where the Thomas Fire is. When comparing it to the true color image, you cannot really tell that the region of the Thomas Fire was different. The included border also helps to distinct the fire from the rest of the county.\n\n\nReferences\nMicrosoft Planetary Computer Data Catalogue, Landsat collection 2 Level-2 [Data file] Available from: https://planetarycomputer.microsoft.com/dataset/landsat-c2-l2. Access date: November, 2024.\nData.gov Data Catalogue, California Fire Perimeters (all) [Data file] Available from: https://catalog.data.gov/dataset/california-fire-perimeters-all-b3436. Access date: November, 2024.\nAQI Data: https://aqs.epa.gov/aqsweb/airdata (Accessed October, 2024)"
  },
  {
    "objectID": "posts/prioritize_aquaculture/prioritizing_potential_aquaculture_blog.html",
    "href": "posts/prioritize_aquaculture/prioritizing_potential_aquaculture_blog.html",
    "title": "Prioritizing Potential Aquaculture",
    "section": "",
    "text": "Show the code\nlibrary(sf)\nlibrary(tidyverse)\nlibrary(tmap)\nlibrary(here)\nlibrary(kableExtra)\nlibrary(usethis)\nlibrary(stars)\nlibrary(terra)\nlibrary(patchwork)"
  },
  {
    "objectID": "posts/prioritize_aquaculture/prioritizing_potential_aquaculture_blog.html#import-data",
    "href": "posts/prioritize_aquaculture/prioritizing_potential_aquaculture_blog.html#import-data",
    "title": "Prioritizing Potential Aquaculture",
    "section": "Import Data",
    "text": "Import Data\n\n# Create a list of all images that have the extension .tif and contain \"sst\"\nsst_data <- list.files(here(\"posts\", \"prioritize_aquaculture\", \"data\"),\n                             pattern = \"sst\",\n                             full.names = TRUE)\n# Create a raster stack\nsst <- c(rast(sst_data))\n\n# Bathymetry\ndepth <- rast(here(\"posts\", \"prioritize_aquaculture\",\"data\",  \"depth.tif\"))\n\n# Exclusive Economic Zones\neez <- read_sf(here(\"posts\", \"prioritize_aquaculture\",\"data\", \"wc_regions_clean.shp\"))"
  },
  {
    "objectID": "posts/prioritize_aquaculture/prioritizing_potential_aquaculture_blog.html#check-if-crs-are-the-same",
    "href": "posts/prioritize_aquaculture/prioritizing_potential_aquaculture_blog.html#check-if-crs-are-the-same",
    "title": "Prioritizing Potential Aquaculture",
    "section": "Check if CRS are the same",
    "text": "Check if CRS are the same\n\nst_crs(eez) == st_crs(depth)\n\n[1] TRUE\n\nst_crs(eez) == st_crs(sst)\n\n[1] FALSE\n\nst_crs(sst) == st_crs(depth)\n\n[1] FALSE"
  },
  {
    "objectID": "posts/prioritize_aquaculture/prioritizing_potential_aquaculture_blog.html#fix-crs-to-match",
    "href": "posts/prioritize_aquaculture/prioritizing_potential_aquaculture_blog.html#fix-crs-to-match",
    "title": "Prioritizing Potential Aquaculture",
    "section": "Fix CRS to match",
    "text": "Fix CRS to match\n\nsst <- project(sst, crs(depth))"
  },
  {
    "objectID": "posts/prioritize_aquaculture/prioritizing_potential_aquaculture_blog.html#check-if-crs-transformation-worked",
    "href": "posts/prioritize_aquaculture/prioritizing_potential_aquaculture_blog.html#check-if-crs-transformation-worked",
    "title": "Prioritizing Potential Aquaculture",
    "section": "Check if CRS transformation worked",
    "text": "Check if CRS transformation worked\n\n# Create a named list of CRS comparisons\ndf_crs_comparisons <- list(\n  \"sst vs depth\" = st_crs(sst) == st_crs(depth),\n  \"depth vs eez\" = st_crs(depth) == st_crs(eez)\n)\n\n# Identify mismatched CRS comparisons\nfalse_comparisons <- names(df_crs_comparisons)[!unlist(df_crs_comparisons)]\n\n# Print results or display warning\nif (length(false_comparisons) == 0) {\n  print(\"All CRS match.\")\n} else {\n  warning(paste(false_comparisons, collapse = \"; \"), \" CRS projections do not match.\")\n}\n\n[1] \"All CRS match.\""
  },
  {
    "objectID": "posts/prioritize_aquaculture/prioritizing_potential_aquaculture_blog.html#process-data",
    "href": "posts/prioritize_aquaculture/prioritizing_potential_aquaculture_blog.html#process-data",
    "title": "Prioritizing Potential Aquaculture",
    "section": "Process Data",
    "text": "Process Data\n\n\nShow the code\n# Find mean SST from 2008-2012 and make one raster\nsst_mean <- app(sst, fun = mean, na.rm = TRUE)\n\n# Convert average SST from Kelvin to Celsius\nsst_celsius <- sst_mean - 273.15\n\n# Crop depth raster to match extent of SST raster\ndepth_crop <- crop(depth, sst_celsius)\n\ndepth_resample <- resample(depth_crop, y = sst_celsius, method = \"near\")\n\n# Set CRS the same\ndepth_resample <- project(depth_resample, crs(sst))\n\n# Check that depth and SST match in resolution, extent and CRS\n\nif (identical(terra::res(depth_resample), terra::res(sst_celsius))) {\n  print(\"resolutions match\")\n} else {\n  print(\"resolutions don't match\")\n}\n\n\n[1] \"resolutions match\"\n\n\nShow the code\nif (identical(terra::crs(depth_resample), terra::crs(sst_celsius))) {\n  print(\"crs match\")\n} else {\n  print(\"crs don't match\")\n}\n\n\n[1] \"crs match\"\n\n\nShow the code\nif ((terra::ext(depth_resample) == terra::ext(sst_celsius))) {\n  print(\"ext match\")\n} else {\n  print(\"ext don't match\")\n}\n\n\n[1] \"ext match\"\n\n\nShow the code\n# Stack sst_celsius and resampled depth\nsst_depth <- c(sst_celsius, depth_resample)"
  },
  {
    "objectID": "posts/prioritize_aquaculture/prioritizing_potential_aquaculture_blog.html#find-suitable-location",
    "href": "posts/prioritize_aquaculture/prioritizing_potential_aquaculture_blog.html#find-suitable-location",
    "title": "Prioritizing Potential Aquaculture",
    "section": "Find suitable Location",
    "text": "Find suitable Location\nOysters require: - sea surface temperature: 11-30°C - depth: 0-70 meters below sea level\n\n# Look at values\nsummary(sst_celsius)\n\n      mean      \n Min.   : 7.02  \n 1st Qu.:12.39  \n Median :14.07  \n Mean   :14.16  \n 3rd Qu.:16.06  \n Max.   :32.72  \n NA's   :41907  \n\nsummary(depth_resample)\n\n     depth      \n Min.   :-5468  \n 1st Qu.:-4023  \n Median :-1703  \n Mean   :-1487  \n 3rd Qu.:  881  \n Max.   : 4112  \n\n# Create sst reclassification matrix for sst\nrcl_sst <- matrix(c(-Inf, 11, NA, # min sst\n                    11, 30, 1, \n                    30, Inf, NA), # max sst\n                    ncol = 3, byrow = TRUE)\n\n# Use reclassification matrix to reclassify sst raster\nreclass_sst <- classify(sst_celsius, rcl = rcl_sst)\n\n\n# Create depth reclassification matrix\nrcl_depth <- matrix(c(-Inf, -70, NA, # min depth\n                    -70, 0, 1, \n                    0, Inf, NA), # max depth\n                    ncol = 3, byrow = TRUE)\n\n# Use reclassification matrix to reclassify depth raster\nreclass_depth <- classify(depth_resample, rcl = rcl_depth)\n\n# Check that it worked\nsummary(reclass_sst)\n\n      mean      \n Min.   :1      \n 1st Qu.:1      \n Median :1      \n Mean   :1      \n 3rd Qu.:1      \n Max.   :1      \n NA's   :46153  \n\nsummary(reclass_depth)\n\n     depth      \n Min.   :1      \n 1st Qu.:1      \n Median :1      \n Mean   :1      \n 3rd Qu.:1      \n Max.   :1      \n NA's   :98798  \n\n# Perform the operation: Both cells equal to 1\nsuit_loc <- (reclass_sst*reclass_depth)"
  },
  {
    "objectID": "posts/prioritize_aquaculture/prioritizing_potential_aquaculture_blog.html#determine-most-suitable-eez",
    "href": "posts/prioritize_aquaculture/prioritizing_potential_aquaculture_blog.html#determine-most-suitable-eez",
    "title": "Prioritizing Potential Aquaculture",
    "section": "Determine most suitable EEZ",
    "text": "Determine most suitable EEZ\n\n# Find area of suitable cells \nsuit_area <- cellSize(x = suit_loc, # locations suitable\n                          mask = TRUE, # keeps NA \n                          unit = 'km')\n\n# Rasterize EEZ data\neez_raster <- rasterize(eez,\n                        suit_area, \n                        field = 'rgn') \n\n# Use zonal algebra to sum the suitable area by region\neez_suitable <- zonal(x = suit_area, \n                      z = eez_raster, # Raster representing zones\n                      fun = 'sum', \n                      na.rm = TRUE) \n\n# To map our eez area with geometry later on\neez <- left_join(eez, eez_suitable, by = \"rgn\")\n\n\n\nShow the code\n# View the area per region of suitable habitat for Oysters\nkable(eez_suitable, digits = 2,\n      caption = \"Total Suitable Area for Oysters by Exclusive Economic Zone\",\n      col.names = c(\"EEZ Region\", \"Area (km^2)\"))\n\n\n\n\nTotal Suitable Area for Oysters by Exclusive Economic Zone\n \n  \n    EEZ Region \n    Area (km^2) \n  \n \n\n  \n    Central California \n    4939.80 \n  \n  \n    Northern California \n    438.15 \n  \n  \n    Oregon \n    1533.07 \n  \n  \n    Southern California \n    3811.80 \n  \n  \n    Washington \n    3224.69"
  },
  {
    "objectID": "posts/prioritize_aquaculture/prioritizing_potential_aquaculture_blog.html#visualize-suitable-areas-with-bathymetry",
    "href": "posts/prioritize_aquaculture/prioritizing_potential_aquaculture_blog.html#visualize-suitable-areas-with-bathymetry",
    "title": "Prioritizing Potential Aquaculture",
    "section": "Visualize Suitable Areas with Bathymetry",
    "text": "Visualize Suitable Areas with Bathymetry\n\n\nShow the code\n# Plot regions and suitable areas together\ntm_shape(depth) +\n  tm_raster(palette = \"-Blues\",\n            title = \"Bathymetry\\n(m above/below sea level)\",\n            midpoint = 0,\n            legend.show = TRUE) +\n  tm_shape(eez) +\n  tm_polygons(fill = \"area\",\n              palette = \"YlGn\",\n              alpha = 0.65,\n              lwd = 0.2,\n              title = expression(\"Suitable habitat area (km\"^2*\")\")) +\n  tm_text(\"rgn\", size = 0.45) +\n  tm_compass(size = 1,\n             position = c(\"left\", \"top\")) +\n  tm_scale_bar(position = c(\"right\", \"top\")) +\n  tm_layout(legend.outside = TRUE,\n            frame = TRUE,\n            main.title = \"Suitable Habitats for Oysters by \\nWest Coast Exclusive Economic Zones\")"
  },
  {
    "objectID": "posts/prioritize_aquaculture/prioritizing_potential_aquaculture_blog.html#function",
    "href": "posts/prioritize_aquaculture/prioritizing_potential_aquaculture_blog.html#function",
    "title": "Prioritizing Potential Aquaculture",
    "section": "Function",
    "text": "Function\n\n\nShow the code\naquaculture_function <- function(species, min_sst, max_sst,\n                                 min_depth, max_depth) {\n  \n# Create a list of all images that have the extension .tif and contain \"sst\"\nsst_data <- list.files(here(\"posts\", \"prioritize_aquaculture\",\"data\"),\n                             pattern = \"sst\",\n                             full.names = TRUE)\n# Create a raster stack\nsst <- c(rast(sst_data))\n\n# Bathymetry\ndepth <- rast(here(\"posts\", \"prioritize_aquaculture\",\"data\",  \"depth.tif\"))\n\n# Exclusive Economic Zones\neez <- read_sf(here(\"posts\", \"prioritize_aquaculture\",\"data\", \"wc_regions_clean.shp\"))\n\n# Match crs\nsst <- project(sst, crs(depth))\n\n# Find mean SST from 2008-2012 and make one raster\nsst_mean <- app(sst, fun = mean, na.rm = TRUE)\n\n# Convert average SST from Kelvin to Celsius\nsst_celsius <- sst_mean - 273.15\n\n# Crop depth raster to match extent of SST raster\ndepth_crop <- crop(depth, sst_celsius)\n\ndepth_resample <- resample(depth_crop, y = sst_celsius, method = \"near\")\n\n# Set CRS the same\ndepth_resample <- project(depth_resample, crs(sst))\n  \n# Create sst reclassification matrix for sst\nrcl_sst <- matrix(c(-Inf, min_sst, NA, # min sst\n                    min_sst, max_sst, 1, \n                    max_sst, Inf, NA), # max sst\n                    ncol = 3, byrow = TRUE)\n\n# Use reclassification matrix to reclassify sst raster\nreclass_sst <- classify(sst_celsius, rcl = rcl_sst)\n\n\n# Create depth reclassification matrix\nrcl_depth <- matrix(c(-Inf, min_depth, NA, # min depth\n                    min_depth, max_depth, 1, \n                    max_depth, Inf, NA), # max depth\n                    ncol = 3, byrow = TRUE)\n\n# Use reclassification matrix to reclassify depth raster\nreclass_depth <- classify(depth_resample, rcl = rcl_depth)\n\n# Perform the operation: Both cells equal to 1\nsuit_loc <- (reclass_sst*reclass_depth)\n\n# Find area of suitable cells \nsuit_area <- cellSize(x = suit_loc, # locations suitable\n                          mask = TRUE, # keeps NA \n                          unit = 'km')\n\n# Rasterize EEZ data\neez_raster <- rasterize(eez,\n                        suit_area, \n                        field = 'rgn') \n\n# Use zonal algebra to sum the suitable area by region\neez_suitable <- zonal(x = suit_area, \n                      z = eez_raster, # Raster representing zones\n                      fun = 'sum', \n                      na.rm = TRUE) \n\n# To map our eez area with geometry later on\neez <- left_join(eez, eez_suitable, by = \"rgn\")\n\n# Map of suitable areas \nmap <- tm_shape(depth) +\n  tm_raster(palette = \"-Blues\",\n            title = \"Bathymetry\\n(m above/below sea level)\",\n            midpoint = 0,\n            legend.show = TRUE) +\n  tm_shape(eez) +\n  tm_polygons(fill = \"area\",\n              palette = \"YlGn\",\n              alpha = 0.65,\n              lwd = 0.2,\n              title = expression(\"Suitable habitat area (km\"^2*\")\")) +\n  tm_text(\"rgn\", size = 0.45) +\n  tm_compass(size = 1,\n             position = c(\"left\", \"top\")) +\n  tm_scale_bar(position = c(\"right\", \"top\")) +\n  tm_layout(legend.outside = TRUE,\n            frame = TRUE,\n            main.title = paste(\"Suitable Habitats for\", species, \"by \\nWest Coast Exclusive Economic Zones\"))\n\n    \n  # Print map\n  return(map)\n}"
  },
  {
    "objectID": "posts/prioritize_aquaculture/prioritizing_potential_aquaculture_blog.html#use-function-for-red-abalone",
    "href": "posts/prioritize_aquaculture/prioritizing_potential_aquaculture_blog.html#use-function-for-red-abalone",
    "title": "Prioritizing Potential Aquaculture",
    "section": "Use function for Red Abalone",
    "text": "Use function for Red Abalone\nRed Abalone require: - sea surface temperature: 8-18°C - depth: 0-24 meters below sea level\n\naquaculture_function(species = \"Red Abalone\", \n                     min_sst = 8,\n                     max_sst = 18,\n                     min_depth = -24,\n                     max_depth = 0)"
  },
  {
    "objectID": "posts/geese_migration/geese_migration_blog.html",
    "href": "posts/geese_migration/geese_migration_blog.html",
    "title": "Shifts in Geese Migration",
    "section": "",
    "text": "Hundreds of snow geese taking off for migration. Credits: Linda Davidson/The Washington Post\n\n\n\n\nHas geese migration distance changed over time?\nUnderstanding the relationship between climate variables and wildlife migration is critical in the context of climate change. Migratory species are often considered indicators of ecosystem health, as they are highly sensitive to environmental changes. Disruptions in their migration patterns could have cascading effects on biodiversity, ecosystem stability, and food webs. As climate change continues to alter temperature, precipitation, and other environmental variables, it is essential to investigate how these changes might influence migration behaviors, including distances traveled.\nPrevious studies have highlighted how factors like temperature and precipitation affect migration timing, routes, and destinations. These changes may lead to earlier or later migrations, altered paths, or shifts in wintering or breeding grounds. However, less attention has been given to changes in total migration distance, which could reflect significant shifts in species behavior or adaptations to changing conditions. Understanding migration distances over time is crucial, as it may offer insights into the energetic demands of migration, habitat availability, and the resilience of species to environmental stressors.\nMy goal in this analysis is to assess whether geese migration distances have changed over time and to examine the potential influence of precipitation as a key climate variable. By analyzing data on migration distances from specific years and integrating climatic data where available, I aim to uncover patterns or trends that might signal broader ecological shifts.\nAdditionally, this study acknowledges some challenges, such as gaps in data across years and potential biases in sample sizes for certain time periods. Recognizing these limitations, the analysis will employ statistical methods like linear regression to evaluate trends and consider the potential impact of precipitation on migration distances. With a better understanding of these patterns, we can contribute to broader efforts to monitor the effects of climate change on migratory species and their ecosystems.\n\n\n\nBased on previous research that describes how environmental factors can influence migration patterns, I believe that there will be a change in geese migration over time. Below shows a table of my two hypotheses, and I will be attempting to determine whether or not they can be rejected.\n\n\n\n\n\n\nHypothesis: There is a change in geese migration distance over time.\n\n\n\n\nNull hypothesis: There is no change in geese migration distance over time.\n\n\n\n\n\n\n\nLoad in data\nClean and manipulate data\nCreate boxplots to visualize distribution\nRun linear regression model\nVisualize linear regression\nAnalyze results\n\n\n\n\nMy data comes from Movebank, a free online database that houses a vast collection of animal tracking data contributed by researchers worldwide. Movebank offers a unique opportunity to study wildlife movement patterns by providing detailed spatial and temporal data for a wide variety of species. My professor, Max Czapanskiy, played a significant role in helping me identify this dataset, exploring the repository to find a species with a consistent and well-documented migration pattern. We settled on geese because their predictable and regular migratory behavior makes them an ideal subject for studying trends over time.\nThe dataset I selected was originally created for a paper investigating the timing of geese migrations over a time span covering 2006 to 2009, followed by a three-year gap, and then 2013 and 2014. The data include 65 geese that were tagged and tracked across their migration routes, providing information on their movements throughout the year. This spatial data was meticulously documented in the original study, and it includes a visualization of the geese’s migration routes and stopover locations, which helped to inform my understanding of their migration patterns. The following graph comes from their paper.\n\n\n\nMigration tracks. Credits: Kölzsch et al., 2016\n\n\nFor my original project proposal, I aimed to build upon the original dataset by incorporating an additional environmental predictor variable—precipitation. I sourced precipitation data from NOAA, selecting a weather station located along the geese’s migration route. My hope was to explore whether precipitation levels might influence migration distances in any meaningful way. However, as I later discovered, the inclusion of this variable presented challenges. The spatial and temporal aspects of the precipitation data did not align well with the migration data, limiting its utility in the analysis.\n\n\n\n\n\n\n\nShow code\nlibrary(tidyverse)\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.3     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.4     ✔ tibble    3.2.1\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n\n\nShow code\nlibrary(here)\n\n\nhere() starts at /Users/kjwong/MEDS/kimberleewong.github.io\n\n\nShow code\nlibrary(tmap)\n\n\n\nAttaching package: 'tmap'\n\nThe following object is masked from 'package:datasets':\n\n    rivers\n\n\nShow code\nlibrary(sf)\n\n\nLinking to GEOS 3.10.2, GDAL 3.4.1, PROJ 8.2.1; sf_use_s2() is TRUE\n\n\nShow code\nlibrary(lubridate)\nlibrary(patchwork)\nlibrary(modelr)\nlibrary(broom)\n\n\n\nAttaching package: 'broom'\n\nThe following object is masked from 'package:modelr':\n\n    bootstrap\n\n\n\n\n\n\n# Movebank geese data\ngeese <- read_sf(here(\"posts/geese_migration/data/Migration timing in white-fronted geese (data from Klzsch et al. 2016)/points.shp\"))\n\n# NOAA precipitation data\nprecip <- read_csv(here(\"posts/geese_migration/data/precip.csv\"))\n\nRows: 3287 Columns: 8\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (2): STATION, NAME\ndbl  (5): LATITUDE, LONGITUDE, ELEVATION, PRCP, SNWD\ndate (1): DATE\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\n\n\n\n\n# Add year column to both datasets\ngeese$year <- year(geese$timestamp)\n\nprecip$year <- year(precip$DATE)\n\n# Filter precipitation data to years we have data for geese\nprecip <- precip[precip$year %in% c(2006, 2007, 2008, 2009, 2013, 2014), ]\n\n# Create new dataset that has the average precipitation per year\nmean_precip <- precip %>%\n  group_by(year) %>%\n  summarise(mean_precip = mean(PRCP, na.rm = TRUE))\n\n\n\n\n\n# Create new dataframes for each year, so we can make a boxplot for each year\nearly_2006 <- geese %>% \n  filter(year == 2006)\n\nearly_2007 <- geese %>% \n  filter(year == 2007)\n\nearly_2008 <- geese %>% \n  filter(year == 2008)\n\nearly_2009 <- geese %>% \n  filter(year == 2009)\n\nlate_2013 <- geese %>% \n  filter(year == 2013)\n\nlate_2014 <- geese %>% \n  filter(year == 2014)\n\n\n\n\nIn order to make a linear regression model and visualize how migration distances are changing year to year, we’re going to create a new variable. By grouping by tag_ident (which is unique to each goose) and year, and using the max of st_distance, we can measure the distance between the two farthest points where a goose had been tagged that year. We will do this to the entire dataframe and to each year in order to make the boxplots.\n\ngeese_group <- geese %>% \n  group_by(tag_ident, year) %>% \n  summarise(\n    max_distance = max(st_distance(geometry, geometry), na.rm = TRUE)\n  ) %>% \n  ungroup() %>% \n  mutate(max_distance = as.numeric(max_distance))\n\n`summarise()` has grouped output by 'tag_ident'. You can override using the\n`.groups` argument.\n\ngeese_2006 <- early_2006 %>% \n  group_by(tag_ident, year) %>% \n  summarise(\n    max_distance = max(st_distance(geometry, geometry), na.rm = TRUE)\n  ) %>% \n  ungroup() %>% \n  mutate(max_distance = as.numeric(max_distance))\n\n`summarise()` has grouped output by 'tag_ident'. You can override using the\n`.groups` argument.\n\ngeese_2007 <- early_2007 %>% \n  group_by(tag_ident, year) %>% \n  summarise(\n    max_distance = max(st_distance(geometry, geometry), na.rm = TRUE)\n  ) %>% \n  ungroup() %>% \n  mutate(max_distance = as.numeric(max_distance))\n\n`summarise()` has grouped output by 'tag_ident'. You can override using the\n`.groups` argument.\n\ngeese_2008 <- early_2008 %>% \n  group_by(tag_ident, year) %>% \n  summarise(\n    max_distance = max(st_distance(geometry, geometry), na.rm = TRUE)\n  ) %>% \n  ungroup() %>% \n  mutate(max_distance = as.numeric(max_distance))\n\n`summarise()` has grouped output by 'tag_ident'. You can override using the\n`.groups` argument.\n\ngeese_2009 <- early_2009 %>% \n  group_by(tag_ident, year) %>% \n  summarise(\n    max_distance = max(st_distance(geometry, geometry), na.rm = TRUE)\n  ) %>% \n  ungroup() %>% \n  mutate(max_distance = as.numeric(max_distance))\n\n`summarise()` has grouped output by 'tag_ident'. You can override using the\n`.groups` argument.\n\ngeese_2013 <- late_2013 %>% \n  group_by(tag_ident, year) %>% \n  summarise(\n    max_distance = max(st_distance(geometry, geometry), na.rm = TRUE)\n  ) %>% \n  ungroup() %>% \n  mutate(max_distance = as.numeric(max_distance))\n\n`summarise()` has grouped output by 'tag_ident'. You can override using the\n`.groups` argument.\n\ngeese_2014 <- late_2014 %>% \n  group_by(tag_ident, year) %>% \n  summarise(\n    max_distance = max(st_distance(geometry, geometry), na.rm = TRUE)\n  ) %>% \n  ungroup() %>% \n  mutate(max_distance = as.numeric(max_distance))\n\n`summarise()` has grouped output by 'tag_ident'. You can override using the\n`.groups` argument.\n\n\n\n\n\n\n\nShow code\n# Set y_limits so each y-axis is the same, and it is easier to compare\ny_limits <- range(geese_group$max_distance, na.rm = TRUE)\n\nb2006 <- ggplot(geese_2006, aes(x = \"2006\", y = max_distance)) +\n  geom_boxplot() +\n  stat_summary(fun = mean, geom = \"point\", color = \"red\", size = 3) +\n  scale_y_continuous(limits = y_limits) +\n  labs(y = \"Distance (meters)\") +\n    theme(axis.title.x = element_blank())  # Turn off x-axis label\n   \n\nb2007 <- ggplot(geese_2007, aes(x = \"2007\", y = max_distance)) +\n  geom_boxplot() +\n  stat_summary(fun = mean, geom = \"point\", color = \"red\", size = 3) +\n  scale_y_continuous(limits = y_limits) +\n    theme(\n    axis.title.x = element_blank(),  # Turn off x-axis label\n    axis.title.y = element_blank())\n\nb2008 <- ggplot(geese_2008, aes(x = \"2008\", y = max_distance)) +\n  geom_boxplot() +\n  stat_summary(fun = mean, geom = \"point\", color = \"red\", size = 3)  +\n  scale_y_continuous(limits = y_limits) +\n    theme(\n    axis.title.x = element_blank(),  # Turn off x-axis label\n    axis.title.y = element_blank())\n\nb2009 <- ggplot(geese_2009, aes(x = \"2009\", y = max_distance)) +\n  geom_boxplot() +\n  stat_summary(fun = mean, geom = \"point\", color = \"red\", size = 3) +\n  scale_y_continuous(limits = y_limits) +\n    theme(\n    axis.title.x = element_blank(),  # Turn off x-axis label\n    axis.title.y = element_blank())\n\nb2013 <- ggplot(geese_2013, aes(x = \"2013\", y = max_distance)) +\n  geom_boxplot() +\n  stat_summary(fun = mean, geom = \"point\", color = \"red\", size = 3) +\n  scale_y_continuous(limits = y_limits) +\n    theme(\n    axis.title.x = element_blank(),  # Turn off x-axis label\n    axis.title.y = element_blank())\n\nb2014 <- ggplot(geese_2014, aes(x = \"2014\", y = max_distance)) +\n  geom_boxplot() +\n  stat_summary(fun = mean, geom = \"point\", color = \"red\", size = 3) +\n  scale_y_continuous(limits = y_limits) +\n    theme(\n    axis.title.x = element_blank(),  # Turn off x-axis label\n    axis.title.y = element_blank())\n\n(b2006 | b2007 | b2008 | b2009 | b2013 | b2014) + \n  plot_annotation(\n  title = \"Yearly Distribution of Maximum Migration Distances of Geese\")\n\n\n\n\n\nIn these box plots the red dot represents the mean. There is noticeable variability in migration distances across years. Some years, 2007 and 2008, have larger interquartile ranges, while others, 2013, have more tightly clustered data. The 2014 data appears to have a few outliers on the lower end.\n\n\n\nFor the first linear regression model, I’m only gonna run the year as the predictor.\n\nyear_mod <- lm(max_distance ~ year, geese_group)\n\nggplot(geese_group, aes(x = year,\n                  y = max_distance)) +\n  geom_point() +\n  geom_smooth(se = FALSE,\n              method = lm) +\n  theme(aspect.ratio = 1) + \n  labs(title = \"Linear Regression Model of Maximum Migration for Geese\",\n       x = \"Year\",\n       y = \"Max Distance (meters)\")\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\nsummary(year_mod)\n\n\nCall:\nlm(formula = max_distance ~ year, data = geese_group)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-2030506  -282246    39621   245984  2060253 \n\nCoefficients:\n             Estimate Std. Error t value Pr(>|t|)\n(Intercept) -29660636   66157768  -0.448    0.655\nyear            16140      32888   0.491    0.625\n\nResidual standard error: 851300 on 75 degrees of freedom\nMultiple R-squared:  0.003201,  Adjusted R-squared:  -0.01009 \nF-statistic: 0.2409 on 1 and 75 DF,  p-value: 0.625\n\n\nAfter looking at both the results of the visualization and the summary of the model, it is very much inconclusive. While the graph seems to show an increase in maximum migration distances (albeit very slight), the summary shows that the p-value for the year predictor is 0.625. This is much too high for this variable to be considered signficant. In addition to this, the R-squared value is 0.0032, and this means that the model explains only 0.32% of the variability in migration distances.\n\n\n\nLet’s plot the residuals to see if there are any blaring red flags about this choice of model.\n\nggplot(geese_group, aes(x = year, y = resid(year_mod))) +\n  geom_point() +\n  geom_hline(yintercept = 0, linetype = \"dashed\", color = \"red\") +\n  labs(title = \"Residuals of the Linear Model\",\n       x = \"Year\",\n       y = \"Residuals\") +\n  theme_minimal()\n\n\n\n\nThe residuals appear to be randomly distributed along the x-axis (years). This suggests that the relationship between predictors and the response variable is reasonably linear. There seem to be clusters of residuals near certain years, which is likely due to an uneven distribution of data across years. There are residuals that are very large, and these could be outliers.\n\n\n\nLet’s try adding precipitation to the model to see if we can get a more significant relationship.\n\nmerged_data <- merge(geese_group, mean_precip, by = \"year\", all.x = TRUE)\n\n# Make year variable is treated as a categorical variable\nmerged_data <- merged_data %>% mutate(year = as.factor(year)) \n\nprecip_mod <- lm(max_distance ~ mean_precip + year, data = merged_data)\n\nsummary(precip_mod)\n\n\nCall:\nlm(formula = max_distance ~ mean_precip + year, data = merged_data)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-2139000  -216127    17442   295893  1746955 \n\nCoefficients: (1 not defined because of singularities)\n            Estimate Std. Error t value Pr(>|t|)\n(Intercept)  7510783    5128234   1.465    0.147\nmean_precip -1812342    2057486  -0.881    0.381\nyear2007     -131332     443555  -0.296    0.768\nyear2008      113113     488158   0.232    0.817\nyear2009     -801156     751133  -1.067    0.290\nyear2013     -148566     297875  -0.499    0.619\nyear2014          NA         NA      NA       NA\n\nResidual standard error: 852700 on 71 degrees of freedom\nMultiple R-squared:  0.05328,   Adjusted R-squared:  -0.01339 \nF-statistic: 0.7992 on 5 and 71 DF,  p-value: 0.5539\n\n\nUnfortunately, even after precipitation to the model, none of the predictors’ p-values are small enough to be considered signficant. While the R-squared did increase quite a bit, the adjusted R-squared was practically unchanged.\n\n\n\n\nTo sum up our results, in both linear models (first: year as only predictor, second: year as a categorical predictor and mean precipitation as a continous one) there is no significant p-value found. In the first model, the p-value for year as a predictor was 0.625, indicating a 62.5% chance that the result was due to chance. The second model similarly shows p-values that are too high. As a result, I cannot reject the null hypothesis. There are a few possibilities to why this outcme could have occurred. Below describes the limitations of the data. The box plots that were created do show variability throughout the years in maximum migration distance, but a confident relationship cannot be determined.\n\n\nWhile the dataset from Movebank offers valuable insights into geese migration patterns, several limitations must be acknowledged, as they could affect the robustness and interpretation of the analysis:\n\nTemporal Gaps in the Data The dataset spans 2006 to 2009 and then skips three years before resuming for 2013 and 2014. This temporal gap introduces potential biases, as it excludes data from years that might have exhibited different migration behaviors due to environmental or ecological changes. Consequently, the uneven time distribution reduces the ability to assess continuous trends over time.\nUneven Sample Size Across Years The number of geese tracked varies significantly between years, leading to imbalances in the dataset. This uneven distribution may skew the results, as years with fewer data points have less statistical weight, potentially masking real patterns or exaggerating anomalies in years with more extensive data coverage.\nLack of Comprehensive Environmental Variables While the inclusion of precipitation data was a step toward understanding environmental influences, the variable proved challenging to integrate effectively. The NOAA station data was limited in its spatial relevance to the geese’s migration routes and lacked temporal precision. Other critical environmental factors, such as temperature, wind patterns, or habitat changes along the migration path, were not included, which limits the ability to fully understand the drivers behind migration distances.\nPotential Impact of External Factors The original study mentioned that some geese were lost during hunting seasons. This human-induced mortality could affect migration data by reducing sample sizes or influencing the observed migration distances of tagged individuals.\nSimplification of Migration Distance Calculation The migration distance was calculated as the maximum distance traveled by each goose during the year, assuming that this represented the total migration length. This approach does not account for potential deviations, stopovers, or detours in the migration path, which might lead to underestimation or overestimation of actual migration effort.\nBias Toward Surviving Individuals The data inherently focuses on geese that completed their migrations and excludes individuals that may have died en route or failed to migrate. This survivorship bias could paint an incomplete picture of the migration patterns and the challenges faced by the population.\nLimited Geographic and Population Scope The dataset tracks a specific subset of the goose population in a defined geographic area. Findings from this subset may not be generalizable to other populations or regions where geese face different environmental pressures or migratory challenges.\n\nAcknowledging these limitations is essential for interpreting the results and framing conclusions. Future studies could aim to fill data gaps, integrate additional environmental variables, and explore alternative methods for calculating migration distances to gain a more comprehensive understanding of the factors influencing geese migration.\n\n\n\n\n\n\n\n\n\n\n\nData:\nCitation:\n\n\n\n\nGeese Migration Data\nKölzsch, A., Müskens, G. J. D. M., Kruckenberg, H., Glazov, P., Weinzierl, R., Nolet, B. A., & Wikelski, M. (2016). Towards a new understanding of migration timing: slower spring than autumn migration in geese reflects different decision rules for stopover use and departure. Oikos, 125(10), 1496–1507. https://doi.org/10.1111/oik.03121\n\n\nPrecipitation Data\nClimate Data Online (CDO), National Climatic Data Center (NCDC). (n.d.). Www.ncei.noaa.gov. https://www.ncei.noaa.gov/cdo-web/search"
  },
  {
    "objectID": "delete-later/practice.html",
    "href": "delete-later/practice.html",
    "title": "Kimberlee Wong",
    "section": "",
    "text": "Here is my level one header\nHere is my first paragraph\nHere is my second paragraph, where you can read more about MEDS.\nThis is very important text!"
  },
  {
    "objectID": "posts.html",
    "href": "posts.html",
    "title": "My Blog",
    "section": "",
    "text": "Shifts in Geese Migration\n\n\n\nR\n\n\nMEDS\n\n\nStatistics\n\n\nQuarto\n\n\n\nThis project’s goal is to determine whether geese migration distances are changing over time.\n\n\n\nKimmy Wong\n\n\nDec 13, 2024\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nEnvironmental Redlining\n\n\n\nR\n\n\nMEDS\n\n\nSpatial-Analysis\n\n\nQuarto\n\n\n\nExploring patterns of environmental justice\n\n\n\nKimmy Wong\n\n\nDec 7, 2024\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPrioritizing Potential Aquaculture\n\n\n\nR\n\n\nMEDS\n\n\nSpatial-Analysis\n\n\nQuarto\n\n\n\nThis project’s goal is to determine which Exclusive Economic Zones (EEZ) on the West Coast of the US are best suited to developing marine aquaculture for several species of…\n\n\n\nKimmy Wong\n\n\nDec 7, 2024\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAnalysis of the 2017 Thomas Fire\n\n\n\nPython\n\n\nMEDS\n\n\nSpatial-Analysis\n\n\nQuarto\n\n\n\nThis project’s goal is to visually explore the region affected by the Thomas Fire across Ventura and Santa Barbara counties in 2017.\n\n\n\nKimmy Wong\n\n\nDec 4, 2024\n\n\n\n\n\n\n\n\nNo matching items"
  }
]